(function(){var Z="touchstart";var bp="touchmove";var t="touchend";var bD="one_line_text";var aH="text";var B="img";var bk="giftext";var bQ="multiple";var F="html";var ba="imagecanvas";var H="imagetextcanvas";var bC="is_overlay";var aI="is_expand";var a4="is_fit";var at="type";var bx="colors";var a2="color";var bm="rotation";var z="rotation_type";var bX="bill_type";var L="is_fixed";var a6="position";var v="height";var am="width";var au="target";var be="high_resolution";var al="target_media";var aJ="optout_url";var a7=0;var bj=1;var p=2;var N=3;var aq=4;var aC="CPM";var bt="STOP_CPM";var w="FOOTER";var aS="HEADER";var af="sid_";var bd="visibility";var aD="visible";var aZ="hidden";var m="display";var ab="none";var A="block";var bN="absolute";var bo="relative";var br="fixed";var bf="top";var o="bottom";var aN="margin";var bv="-999px";var f="-10";var a9="div";var R=700;var aa=1;var bW=0;var bq=100;var aB=500;var a0=300;var bA=20;var b=100;var G=0;var ar="800";var ad=0;var bP=4;var bV="ad_cloud_storage";var an="expand_temporary";var W="ad_cloud_loader";var ag="ad_cloud_overlay_space";var bM="fit";var bS="rotationterm";var av="color";var r="nolicense";var aT=1;var aA=0;var az=0;var C=1;var bi=10;var n=10;var l="ads by AdCloud";var J=5;var e=5;var aF=3;var bF=3;var bU=[];var aU=[];var a="info_resize";var h=70;var aE=16;var ak=3;var bI="AdCloudSmartphoneExpandFrame";var a8="AdCloudSmartphoneExpandWrap";var ao="AdCloudSmartphoneExpandClose";var d=3002;var s=3003;var bs=3001;var aO=10;var a1="targetIframe";var Y="targetExpandIframe";var k="expandIndex";var bw="isExpandNewWindow";var aX="isRegisterExpandHandler";var aj="isRegistedMessageHandler";var bb="adCurrentPosition";var a5="adCurrentHeight";var bJ="adCurrentWidth";var c="isAdResize";var q="iframeIsLoaded";var aR="currentStatus";var X="adcloud:mraid:expand";var E="adcloud:mraid:close";var ay="adcloud:mraid:resize";var aw="adcloud:mraid:position";var bR="adcloud:mraid:changesize";var O="adcloud:mraid:statechange";var bc="adcloud:mraid:error";var bg="expandProperties";var aG="resizeProperties";var bz=0;var V=1;var bh="width";var ap="height";var Q="offsetX";var P="offsetY";var ax="maxWidth";var bT="maxHeight";var I="overlay";var ac="screenWidth";var ah="screenHeight";var aQ="defaultX";var aP="defaultY";var aL="defaultWidth";var by="defaultHeight";var u="useCustomClose";var K="loading";var bn="default";var bL="expanded";var aM="resized";var aV="hidden";var U="parameter";var aY=window;var bG=document;function y(b3,bY){var b2;var bZ;if(b3!==null){b2=b3?aU:bU}else{b2=aU.concat(bU)}for(var b0=0,b1=b2.length;b0<b1;b0++){bZ=b2[b0];if(bZ.sid===bY){return bZ}}return null}var bE=function(b1,bY,b0){var bZ=bG.createElement(b1);bH(bZ,bY);a3(bZ,b0);return bZ};var bl=function(bY,bZ){if(bY.target=="_mixi"){delete bY.target;var b0="mixi.util.requestExternalNavigateTo('"+bY.href+"');";bY.href="javascript:void(0);";bY.onclick=b0}return bE("a",bY,bZ)};function bH(b0,bZ){for(var bY in bZ){b0.setAttribute(bY,bZ[bY])}}function a3(b0,b1){var bZ=b0.style;for(var bY in b1){bZ[bY]=b1[bY]}}var bO=function(){return aY.pageYOffset+"px"};var aW=function(){return aY.pageXOffset+"px"};var S=function(bY,b0){var bZ=bY.style;bZ.filter="alpha(opacity="+(b0*100)+")";bZ.MozOpacity=b0;bZ.opacity=b0};function D(){this.createAd=function(bZ,bY,b1){var b2=bY[bC]?aU:bU;var b0=y(bY[bC],bZ);if(!!b0){b0.updateAd(bY,b1)}else{if(bY[bC]){if(bK()){b0=new M(bZ,b1)}else{b0=new x(bZ,b1)}}else{b0=new T(bZ,b1)}b0.createAd(bY);b2.push(b0)}};if(j()){bG.addEventListener(Z,function(){D.touchTime=(new Date()).getTime()},false)}}D.is_showing_expand=false;D.isSoftwareKeyboad=false;D.isMraidChangeSizeAd=0;D.touchTime;D.clickIframeClose=function(){var b0=aU.concat(bU);for(var bY=0,bZ=b0.length;bY<bZ;bY++){targetObject=b0[bY];if(targetObject.isShowingExpand===true){targetObject.hideExpand();if(targetObject.settings[bC]){targetObject.showAd()}break}}};D.getQueryParameter=function(bY){var b0="&aid=";var b1="&count=";var bZ=y(null,bY);b1+=(bZ.rotationNum?bZ.rotationNum:"");b0+=bZ.aid.join("|");return b0+b1};D.isFocus=function(bZ){var bY=new Date();if(D.touchTime&&bY.getTime()-D.touchTime<=bZ){return true}else{return false}};D.fireDisplayDesktop;D.createCookieSpace=(function(){var bY=false;return function(bZ,b2,b6,b3,b7,b0,cc){var cb=function(cr){if(b4.contentWindow==cr.source&&cr.data){var ce=aY.JSON.parse(cr.data);if(ce&&ce.cmd&&ce.cmd=="adcloud:ad:notify"){var ch=ce.sid,ci=ce.arg,cu,cl,cq=false,co=false,cv,cd=true,ct=[],cj;var cm;if(!ci[at]){return}if(ci[al]==="PC"){if(D.fireDisplayDesktop){D.fireDisplayDesktop(ce);return}}if(!aY.AdCloudSmartphone.object){aY.AdCloudSmartphone.object=new D()}if(ci[a2]){cl=ci[a2].split("-")}if(ci[bm]){cm=ci[bm]*1000}if(ci[bC]!=true){cd=false}cv=bG.getElementsByClassName(af+ch)[0];cu=cv.className.split(/\s+/);for(var cp=0,cg=cu.length;cp<cg;cp++){var cf=cu[cp].split("_");switch(cf[0]){case av:cl=cf[1].split("-");break;case bM:cq=true;break;case r:co=true;break;case bS:if(cf[1]&&cf[1]>=10){cm=cf[1]*1000;cd=true}else{cd=false}break}}if(ci[z]&&ci[bX]){if(ci[z]==bt&&ci[bX]==aC){cd=false}}if(ci.hasOwnProperty("ads")){cj=ci.ads.length;for(var ck=0;ck<cj;ck++){ct.push(!!ci.ads[ck][be]?true:false)}}else{ct.push(!!ci[be]?true:false)}var cn=(D.isMraidChangeSizeAd>0)||D.is_showing_expand?500:0;var cs=setInterval(function(){if(D.isMraidChangeSizeAd===0&&!D.is_showing_expand){clearInterval(cs);if(ci[bC]==true){aY.AdCloudSmartphone.object.createAd(ch,ci,{high_resolution:ct,is_fixed:ci[L],is_fit:cq,nolicense:co,position:ci[a6]?ci[a6]:w,size:ci[v]+"px",size_overturn:ci[v]+"px",ad_base_color:cl[p],colors:cl,is_overlay:ci[bC]})}else{aY.AdCloudSmartphone.object.createAd(ch,ci,{high_resolution:ct,nolicense:co,is_fit:cq,colors:cl,is_overlay:ci[bC]})}if(cd&&cm!=0){var cw=y(null,ch);if(!!cw.rotationTimer){clearInterval(cw.rotationTimer);cw.rotationTimer=null}cw.rotationTimer=setInterval(function(){if(!D.is_showing_expand&&D.isFocus(cm)){clearInterval(cw.rotationTimer);b4.contentWindow.postMessage(aY.JSON.stringify({sid:ch,aid:cw.aid,count:cw.rotationNum,cmd:"adcloud:ad:update:notify"}),"*")}},cm)}}},cn)}}};var b4=bG.getElementById(bV);if(!!b4){var b8=b0.split("|");var ca=setInterval(function(){if(bY){clearInterval(ca);for(var cd=0,ce=b8.length;cd<ce;cd++){b4.contentWindow.postMessage(aY.JSON.stringify({sid:b8[cd],aid:[],cmd:"adcloud:ad:update:notify"}),"*")}}},500)}else{b4=bu();var b5="";var b9="";b4.id=bV;if(aY.addEventListener){aY.addEventListener("message",cb,false)}else{if(aY.attachEvent){aY.attachEvent("onmessage",cb)}}if(!!b3&&b3!=""){b5="&cparam="+b3}for(var b1 in cc){b9="&"+b1+"="+cc[b1]}bG.body.appendChild(b4);b4.src=bZ+"?sid="+b0+"&url="+escape(b2)+"&referrer="+escape(b6)+b5+b7+b9;b4.onload=function(){bY=true}}}})();D.createSyncSpace=function(bZ){var bY=bu();bY.src=bZ;bG.body.appendChild(bY)};D.isCorrectViewport=function(){var bZ=bG.getElementsByTagName("meta");for(var b0=0,b1=bZ.length,bY=0;b0<b1;b0++){if(bZ[b0].name=="viewport"){if(bZ[b0].content.match(/user-scalable/)){if(!bZ[b0].content.match(/user-scalable.?=.?(0|no)/i)){return D.isCorrectViewportForFit()}else{return true}}else{return D.isCorrectViewportForFit()}}}return false};D.isCorrectViewportForFit=(function(){var bZ=false,bY=false;return function(){if(bZ){return bY}var b7,b3,b6,b5,b8;var b1=bG.getElementsByTagName("meta");bZ=true;for(var b4=0,b2=b1.length,b0=0;b4<b2;b4++){if(b1[b4].name=="viewport"){if(b1[b4].content.match(/minimum-scale/)){b7=b1[b4].content.match(/minimum-scale\s*=\s*(\d+\.?\d*)/i)?b1[b4].content.match(/minimum-scale\s*=\s*(\d+\.?\d*)/i)[1]:null}if(b1[b4].content.match(/maximum-scale/)){b3=b1[b4].content.match(/maximum-scale\s*=\s*(\d+\.?\d*)/i)?b1[b4].content.match(/maximum-scale\s*=\s*(\d+\.?\d*)/i)[1]:null}if(b1[b4].content.match(/initial-scale/)){b6=b1[b4].content.match(/initial-scale\s*=\s*(\d+\.?\d*)/i)?b1[b4].content.match(/initial-scale\s*=\s*(\d+\.?\d*)/i)[1]:null}if(b1[b4].content.match(/width/)){b5=b1[b4].content.match(/width\s*=\s*(\d+)/i)?b1[b4].content.match(/width\s*=\s*(\d+)/i)[1]:null}if(b1[b4].content.match(/user-scalable.?=.?(0|no)/i)){b8=true}if(!!b5&&(b8||(!!b7&&!!b3&&!!b6))){if(b8){bY=true;return true}if(b7==b3&&b6==b3){bY=true;return true}return false}return false}}return false}})();D.getViewportWidth=function(){var bZ=bG.getElementsByTagName("meta");var b0=0;for(var b1=0,b2=bZ.length,bY=0;b1<b2;b1++){if(bZ[b1].name=="viewport"){b0=bZ[b1].content.match(/width\s*=\s*(\d+)/i)?bZ[b1].content.match(/width\s*=\s*(\d+)/i)[1]:null}}return b0};function ae(){this.createAdBase=function(bY){this.initializeSetting();this.adSpotWidth=bY[am];this.adSpotHeight=bY[v];bY=this.checkExpand(bY);this.type=bY[at];this.newAid(bY.aid);var bZ=bG.createElement(a9);bZ.style[bd]=aZ;this.innerElement=bZ;this.sidDiv.appendChild(bZ);bZ.style[bd]=aD;return bY};this.initializeSetting=function(){this.expandSource=null;this.isExpandIFrameLoaded=false;this.expandDiv=null;this.initializeMraid()};this.updateAdBase=function(bY,bZ){this.initializeSetting();this.settings=this.mergeOptions(bZ)};this.createAdElementFormat=function(bY){switch(bY[at]){case B:return this.createImgAdFormat(bY);break;case bk:return this.createGifTextAdFormat(bY);break;case bQ:return this.createMultiAdFormat(bY);break;case F:var bZ=this.createHtmlAdFormat(bY);this.setMraid(bZ);return bZ;break}};this.createCommonAdBaseFormat=function(bY,b0){var b1={target:bY[au],href:this.settings[aI]?"javascript:void(0)":bY.href};var bZ={textDecoration:"none"};return bl(b1,bZ)};this.createTextFormat=function(b0,bZ,bY,b2){var b1=bE("div",{},{color:bZ[a7],cssFloat:"left",styleFloat:"left",fontWeight:"500",textAlign:b2?"center":"left"});b1.innerHTML=decodeURIComponent(bY.title);b0.appendChild(b1)};this.createImgAdBaseFormat=function(bY){var bZ=bE("img",{src:bY.src,alt:decodeURIComponent(bY.alt)},{border:" 0px none",position:bo,display:ab,bottom:"0px",});return bZ};this.createGifTextAdBaseFormat=function(b9,b6){var b0=b6?b6:0;var bZ=this.settings[bx];var b3=bE("div",{},{position:bN,bottom:"1px",right:"10px",color:bZ[bj],lineHeight:n+"px",fontSize:n+"px"});b3.innerHTML=this.settings.nolicense?"":l;var bY,b4,b7;bY=parseInt(bZ[p].substring(1,3),16);b4=parseInt(bZ[p].substring(3,5),16);b7=parseInt(bZ[p].substring(5,7),16);var b8={position:bo,margin:"0pt auto",display:ab,WebkitBorderRadius:"3px",borderRadius:"3px",background:"-webkit-gradient(linear, left top, left bottom, from(rgba("+bY+","+b4+","+b7+",1)), to(rgba("+bY+","+b4+","+b7+",0.9)))"};var b2=b9.ads[b0];var b5=bE("div",{},b8);var b1=bE("img",{src:b2.src,alt:decodeURIComponent(b2.alt)},{cssFloat:"left",styleFloat:"left",border:"0px none",margin:"auto 0px auto "+J+"px",});b5.appendChild(b1);this.createTextFormat(b5,bZ,b2);b5.appendChild(b3);return b5};this.createHtmlAdFormat=function(bY){var b0=function(b3){if(bZ.contentWindow!=b3.source||!b3.data){return}var b2=window.JSON.parse(b3.data);if(b2.cmd==="adcloud:ad:iframe_resize"){if(b2.width){b1.width=b2.width}if(b2.height){if(!bK()&&bY.html&&b2.height!="auto"){b1.height=bZ.contentDocument.body.scrollHeight+"px"}else{b1.height=b2.height}}}else{if(b2.cmd==="adcloud:ad:iframe_onresize"){if(b2.height){b1.height=b2.height}}}};window.addEventListener("message",b0,false);var bZ=bG.createElement("iframe");var b1=bZ.style;bZ.scrolling="no";b1.position=bo;b1.border="none";b1.width=bY[am]+"px";b1.height=bY[v]+"px";b1.margin="0pt auto";b1.display=A;if(bY.dsp_name||bY.html){bZ.onload=function(){bZ.onload=function(){};var b2=bY.html.replace(/\+/g," ");bZ.contentDocument.writeln(decodeURIComponent(b2));bZ.contentDocument.close()}}else{bZ.src=bY.iframeLocation}return bZ};this.setImgAdSize=function(b1,b0,bZ){var bY=this;if(b1.naturalHeight==0){b1.onload=function(){bY.setImageSize(b1,bZ)}}else{bY.setImageSize(b1,bZ)}if(this.settings[a4]&&this.settings[bC]){b1.style.WebkitBoxShadow="0px 0px "+this.getResizeSize(aF)+"px #000"}};this.setImageSize=function(b0,b5,b3){var b7,bY;var b6=b0.style;var b4=b0.parentNode.style;var bZ=b3?b3:0;b4.visibility=aZ;b6.display=A;if(this.settings[be][bZ]){b7=Math.floor(b0.naturalHeight/2);bY=Math.floor(b0.naturalWidth/2)}else{b7=b0.naturalHeight;bY=b0.naturalWidth}if(this.settings[a4]){b7=this.getResizeSize(b7);bY=this.getResizeSize(bY);if(!this.settings[bC]){b6.width=bY+"px";b6.margin="0 auto"}}b6.height=b7+"px";b6.width=bY+"px";if(b5&&this.type!="img"){b6.marginTop=Math.floor((b5-b7)/2)+"px"}if(this.isInfo){var b2=this.innerElement.childNodes;for(var b1=0;b1<b2.length;b1++){if(b2[b1].getAttribute(a)==="0"){b2[b1].style.width=bY+"px";b2[b1].style.height=b7+"px";b2[b1].setAttribute(a,"1")}}}b4.visibility=aD;return bY};this.setTextSize=function(b6,b8,b5,b4){var b0=b6.style;var b3=b6.innerHTML;var bZ=this.settings.str_byte?this.settings.str_byte:this.countString(b3);var b1;var bY=Math.floor(b8/bZ);if(!!b4){if(bY<b5/2){var b2=Math.ceil(bZ/2);bY=Math.floor(b8/b2);bY=bY<Math.floor(b5/2)?(bY-1):(Math.floor(b5/2)-1);var b7=bY*2+"px";b1=Math.floor((b5-bY*2)/2)}else{bY=bY<b5?(bY-1):(b5-1);var b7=bY+"px";b1=Math.floor((b5-bY)/2)}}else{bY=bY<b5?(bY-1):(b5-1);b1=Math.floor((b5-bY)/2)}bY+="px";b0.fontSize=bY;b0.lineHeight=bY;b0.letterSpacing="0px";b0.width=b8+"px";b0.height=b7?b7:bY;if(this.settings[a4]){b0.margin=b1+this.getResizeSize(e)+"px "+this.getResizeSize(J)+"px"}else{b0.margin=b1+e+"px "+J+"px"}b0["word-break"]="break-all";b0["word-wrap"]="break-word"};this.setLicenseSize=function(b0){var bZ=b0.style;var bY=this.getResizeSize(n);bZ.fontSize=bY+"px";bZ.lineHeight=bY+"px";bZ.right=this.getResizeSize(10)+"px";bZ.bottom=this.getResizeSize(1)+"px"};this.countString=function(bY){var b2=0;for(var bZ=0,b0=bY.length;bZ<b0;bZ++){var b1=escape(bY.charAt(bZ));if(b1.length<4){b2+=0.7}else{b2+=1}}return b2};this.mergeOptions=function(bY){var b0={is_fixed:false,position:w,timer:true,time:R,opacity:true,opacity_level:aa,ad_base_color:"#999999",is_expand:false,is_bg_opacity:true,is_fit:false,nolicense:false};if(typeof bY=="object"){for(var bZ in bY){if(bZ=="size"||bZ=="size_overturn"){if(!bY[bZ].match(/px|%$/i)){bY[bZ]+="px"}}b0[bZ]=bY[bZ]}}return b0};this.newAid=function(bZ){this.rotationNum+=1;for(var b0=0,bY=this.aid.length;b0<bY;b0++){if(bZ===this.aid[b0]){this.aid=[bZ];return}}this.aid.push(bZ)}}function bB(){this.initializeMraid=function(){this.mraidSettings[a1]=null;this.mraidSettings[aR]=bn;this.mraidSettings[Y]=null;this.mraidSettings[q]=false;this.mraidSettings[k]=-1;this.mraidSettings[bw]=true;this.setExpandFlag(false)};this.setMraid=function(b5){var b4=this;this.registMessageListener();this.mraidSettings[a1]=b5;b5.addEventListener("load",function(){b4.mraidSettings[q]=true},false)};this.postToParent=function(b6,b7){var b5=this;var b4=setInterval(function(){if(b5.mraidSettings[q]){clearInterval(b4);b5.mraidSettings[a1].contentWindow.postMessage(aY.JSON.stringify({cmd:b6,parameter:b7}),"*")}},500)};var b3=function(b9,b8){var b6=bG.createElement("canvas");var b4=b6.style;var b5=b6.getContext("2d");var ca=h/2;b6.height=h;b6.width=h;b4.position=bN;b4.top=b9+"px";b4.left=b8+"px";b4.zIndex=s+aO*this.mraidSettings[k];b5.strokeStyle="rgba(0, 0, 0, 0.7)";b5.fillStyle="rgba(255, 255, 255, 0.7)";b5.beginPath();b5.arc(ca,ca,aE,0,Math.PI*2,false);b5.fill();b5.lineWidth=ak;b5.arc(ca,ca,aE,0,Math.PI*2,false);b5.stroke();var b7=aE*0.4;b5.moveTo(ca-b7,ca+b7);b5.lineTo(ca+b7,ca-b7);b5.stroke();b5.moveTo(ca+b7,ca+b7);b5.lineTo(ca-b7,ca-b7);b5.stroke();return b6};this.closeByFramePostHandling=function(){this.setExpandFlag(false);this.mraidSettings[aR]=bn;this.happendChangeingPosition()};this.closebySDKPostHandling=function(){this.closeByFramePostHandling();this.postToParent(O,{state:this.mraidSettings[aR]})};this.removeNewExpandViews=function(){var b4=bG.getElementById(bI+this.mraidSettings[k]);var b5=bG.getElementById(a8+this.mraidSettings[k]);b4.parentElement.removeChild(b4);b5.parentElement.removeChild(b5);this.mraidSettings[k]--};this.removeSameExpandViews=function(){var b4=bG.getElementById(a8+this.mraidSettings[k]);b4.parentElement.removeChild(b4);this.closeResizeIframe();this.mraidSettings[k]--};this.createCloseElementForNewExpandFrame=function(b6,b5){var b4=b3.call(this,b6,b5);b4.id=ao+this.mraidSettings[k];b4.addEventListener("click",(function(){var b7=b4.parentElement;b7.removeChild(b4);this.removeNewExpandViews();this.closebySDKPostHandling()}).bind(this),false);return b4};this.createCloseElementForSameExpandFrame=function(b6,b5){var b4=b3.call(this,b6,b5);b4.addEventListener("click",(function(){var b7=b4.parentElement;b7.removeChild(b4);this.removeSameExpandViews();this.closebySDKPostHandling()}).bind(this),false);return b4};var b1=function(){var b4=bG.createElement("div");var b5=b4.style;b5.backgroundColor="rgba(0, 0, 0, 0.7)";b5.position=bN;b5.width=aY.innerWidth+"px";b5.height=aY.innerHeight+"px";b5.top=aY.pageYOffset+"px";b5.left=aY.pageXOffset+"px";b5.zIndex=bs+aO*this.mraidSettings[k];b4.id=a8+this.mraidSettings[k];b4.addEventListener(Z,function(b6){b6.preventDefault();b6.stopPropagation()},false);b4.addEventListener(bp,function(b6){b6.preventDefault();b6.stopPropagation()},false);return b4};this.closeAtResize=function(){if(!this.mraidSettings[bw]){this.closeResizeIframe()}if(this.mraidSettings[k]>=0){var b5=this.sidDiv.childNodes;var b4=0;while(b5.length!=1){if(b5[b4]!=this.innerElement){this.sidDiv.removeChild(b5[b4])}else{b4++}}this.mraidSettings[k]=-1;this.closebySDKPostHandling()}};this.registerHandlerForExpand=function(){if(bK()){bG.addEventListener("scroll",this.closeAtResize.bind(this),false);aY.addEventListener("orientationchange",this.closeAtResize.bind(this),false)}else{setInterval(b2.call(this),200);aY.addEventListener("resize",this.closeAtResize.bind(this),false)}};var b2=function(){var b5;var b4=this;return function(){if(b5!=aY.pageYOffset&&b5){b4.closeAtResize()}b5=aY.pageYOffset}};var bZ=function(b4){var b5={};if(b4.width){sourceWidth=parseInt(b4.width.match(/^[0-9]*/));b5.x=aY.pageXOffset+(aY.innerWidth-sourceWidth)/2;b5.width=sourceWidth}else{b5.x=aY.pageXOffset;b5.width=aY.innerWidth}if(b4.height){sourceHeight=parseInt(b4.height.match(/^[0-9]*/));b5.y=aY.pageYOffset+(aY.innerHeight-sourceHeight)/2;b5.height=sourceHeight}else{b5.y=aY.pageYOffset;b5.height=aY.innerHeight}return b5};var b0=function(b4){var b5={};b5.width=b5.height=h;if(b4.width){sourceWidth=parseInt(b4.width.match(/^[0-9]*/));b5.x=aY.pageXOffset+(aY.innerWidth-sourceWidth)/2+sourceWidth-h}else{b5.x=aY.innerWidth-h}if(b4.height){sourceHeight=parseInt(b4.height.match(/^[0-9]*/));b5.y=aY.pageYOffset+(aY.innerHeight-sourceHeight)/2}else{b5.y=aY.pageYOffset}return b5};this.setCurrentPosition=function(b4){this.mraidSettings[a5]=b4.height;this.mraidSettings[bJ]=b4.width};this.expandThisFrame=function(b7){var b9=b7.parameter[bg];var b6=b1.call(this);var b4=this.mraidSettings[a1].style;this.innerElement.style;var b5;var ca,b8;if(!this.mraidSettings[aX]){this.mraidSettings[aX]=true;this.registerHandlerForExpand()}this.innerElement.style.zIndex=d+aO*this.mraidSettings[k];ca=bZ(b9);this.innerElement.style.left=ca.x+"px";this.innerElement.style.top=ca.y+"px";this.innerElement.style.position="absolute";this.mraidSettings[a1].style.width=this.innerElement.style.width=ca.width+"px";this.mraidSettings[a1].style.height=this.innerElement.style.height=ca.height+"px";this.setCurrentPosition({width:ca.width,height:ca.height});this.sidDiv.appendChild(b6);if(!b9[u]){b8=b0(b9);b5=this.createCloseElementForSameExpandFrame(b8.y,b8.x);this.sidDiv.appendChild(b5)}this.setExpandFlag(true);this.happendChangeingPosition()};this.createNewExpand=function(b7){var b9=b7.parameter[bg];var cb=bG.createElement("iframe");var b4=cb.style;var b6=b1.call(this);var b5;var ca,b8;this.mraidSettings[Y]=cb;if(!this.mraidSettings[aX]){this.mraidSettings[aX]=true;this.registerHandlerForExpand()}b4.position=bN;b4.zIndex=d+aO*this.mraidSettings[k];b4.border="none";cb.src=b7.parameter.url;cb.id=bI+this.mraidSettings[k];ca=bZ(b9);b4.left=ca.x+"px";b4.top=ca.y+"px";cb.width=ca.width+"px";cb.height=ca.height+"px";this.sidDiv.appendChild(b6);this.sidDiv.appendChild(cb);if(!b9[u]){b8=b0(b9);b5=this.createCloseElementForNewExpandFrame(b8.y,b8.x);this.sidDiv.appendChild(b5)}this.setExpandFlag(true);this.happendChangeingPosition()};var bY=function(b4){var b5=b4.style;b5=arguments[i].style;b5.opacity=0;setTimeout(function(){b5.webkitTransitionProperty="opacity";b5.webkitTransitionTimingFunction="ease";b5.webkitTransitionDuration="1ms";b5.opacity=1},0)};this.setExpandFlag=function(b4){this.mraidSettings[c]=b4;if(this.settings[bC]){if(b4){D.isMraidChangeSizeAd++}else{if(D.isMraidChangeSizeAd>0){D.isMraidChangeSizeAd--}}}};this.resizeIframe=function(b5){var b4=b5.parameter[aG];var b8=this.mraidSettings[a1];var b6,b7;this.setExpandFlag(true);this.innerElement.style.height=b8.style.height=b4.height+"px";b8.style.width=b4.width+"px";this.setCurrentPosition({width:b4.width,height:b4.height});if(this.mraidSettings[bb]===V){if(this.settings[L]){this.innerElement.style.top=G+"px"}else{this.innerElement.style.top=aY.pageYOffset+G+"px"}}else{if(this.mraidSettings[bb]===bz){b6=b4.height-this.adSpotHeight-b4.offsetY;b7;if(this.settings[L]){this.innerElement.style.bottom=G+b6+"px"}else{this.innerElement.style.top=aY.pageYOffset+aY.innerHeight-G-b4.height-b6+"px"}}}this.happendChangeingPosition()};this.closeResizeIframe=function(){var b5=this.mraidSettings[a1];var b4=this.innerElement.style;this.setExpandFlag(false);b4.height=b5.style.height=this.adSpotHeight+"px";b5.style.width=this.adSpotWidth+"px";this.setCurrentPosition({width:this.adSpotWidth,height:this.adSpotHeight});if(this.settings[bC]){b4["z-index"]=ar;if(this.mraidSettings[bb]===V){if(this.settings[L]){b4.top=G+"px"}else{b4.top=aY.pageYOffset+G+"px"}}else{if(this.mraidSettings[bb]===bz){if(this.settings[L]){b4.bottom=G+"px"}else{b4.top=aY.pageYOffset+aY.innerHeight-this.adSpotHeight-G+"px"}}}}else{b4.removeProperty("z-index");b4.removeProperty("top");b4.removeProperty("left");b4.removeProperty("position")}this.postPositionToRichFrame()};this.checkEnableCommand=function(b4){if(b4==aw){return true}switch(this.mraidSettings[aR]){case K:return false;break;case bn:switch(b4){case X:this.mraidSettings[aR]=bL;break;case ay:this.mraidSettings[aR]=aM;break;case E:this.mraidSettings[aR]=aV;break;default:return false;break}break;case bL:switch(b4){case ay:this.postToParent(bc,{message:"can not call resize while expanded",action:"resize()"});return false;break;case E:this.mraidSettings[aR]=bn;break;default:return false;break}break;case aM:switch(b4){case X:this.mraidSettings[aR]=bL;break;case ay:return true;break;case E:this.mraidSettings[aR]=bn;break;default:return false;break}break;case aV:return false;break;default:return false;break}this.postToParent(O,{state:this.mraidSettings[aR]});return true};this.registMessageListener=function(){var b4=this;if(!this.mraidSettings[aj]){this.mraidSettings[aj]=true;aY.addEventListener("message",function(b7){if(!!b4.mraidSettings[a1]&&(b7.source===b4.mraidSettings[a1].contentWindow||(!!b4.mraidSettings[Y]&&b7.source===b4.mraidSettings[Y].contentWindow))&&b7.data){var b6=aY.JSON.parse(b7.data);if(b6&&b6.cmd){var b5=b4.checkEnableCommand(b6.cmd);if(!b5){return}if(b6.cmd===X){b4.mraidSettings[k]++;if(b6.parameter.url){b4.mraidSettings[bw]=true;b4.createNewExpand(b6)}else{b4.mraidSettings[bw]=false;b4.expandThisFrame(b6)}}else{if(b6.cmd===E){if(b4.mraidSettings[k]>=0){if(b4.mraidSettings[bw]){b4.removeNewExpandViews()}else{b4.removeSameExpandViews()}}else{b4.closeResizeIframe()}b4.closeByFramePostHandling()}else{if(b6.cmd===ay){b4.resizeIframe(b6)}else{if(b6.cmd===aw){b4.postPositionToRichFrame()}}}}}b7.stopPropagation();b7.preventDefault()}},false)}};this.happendChangeingPosition=function(){this.postPositionToRichFrame();this.postToParent(bR,{})};this.postPositionToRichFrame=function(){var b4={};b4[bh]=this.mraidSettings[bJ]?this.mraidSettings[bJ]:this.adSpotWidth;b4[ap]=this.mraidSettings[a5]?this.mraidSettings[a5]:this.adSpotHeight;b4[bT]=window.innerHeight;b4[ax]=window.innerWidth;b4[ac]=window.width;b4[ah]=window.height;b4[by]=this.adSpotHeight;b4[aL]=this.adSpotWidth;b4[aQ]=(aY.innerWidth-this.adSpotWidth)/2;if(this.innerElement.style.top){b4[P]=this.innerElement.style.top.match(/[0-9]+/)-aY.pageYOffset;b4[aP]=0}else{if(this.innerElement.style.bottom){b4[P]=aY.innerHeight-this.innerElement.style.bottom.match(/[0-9]+/);b4[aP]=aY.innerHeight-this.adSpotHeight}else{b4[P]=0;b4[aP]=0}}b4[Q]=(aY.innerWidth-b4[bh])/2;b4[I]=this.settings[bC];this.postToParent(aw,b4)};this.changePositionForRich=function(b4){if(this.mraidSettings[bb]!=b4){this.mraidSettings[bb]=b4;this.postPositionToRichFrame()}}}bB.prototype=new ae();function ai(){this.checkExpand=function(b2){if(b2[at]==ba){b2[at]=B;b2[aI]=this.settings[aI]=true;bZ(this.getExpandHtmlSource(b2))}else{if(b2[at]==H){b2[at]=bk;b2[aI]=this.settings[aI]=true;bZ(this.getExpandHtmlSource(b2))}}return b2};this.isMultiAd=function(b2){if(!!b2.ads){if(b2.ads.length>1){return true}}return false};this.createExpand=function(b3,b9){var b4=this;var b6;S(b3,0);var b8=bY();b3.appendChild(b8);var b5=decodeURIComponent(b9);var b2=b5.match(/<impression>([\s\S]|.)+?<\/impression>/);if(b2){b6=b2[0].replace(/<impression>/,"").replace(/<\/impression>/,"");b5=b5.replace(/<impression>([\s\S]|.)+?<\/impression>/,"")}b8.onload=function(){b8.style.dispaly=ab;b4.isExpandIframeLoaded=true};b8.contentDocument.writeln(b5);b8.contentDocument.close();if(!!b6){var b7=bG.createElement("script");b7.type="text/javascript";b7.text=b6;b3.appendChild(b7)}return b3};this.registExpandEvent=function(b3){var b2=this;b3.addEventListener("click",function(b4){b2.clickExpandAd()},false)};this.clickExpandAd=function(){var b4;var b3=this;this.showLoading();var b2=bE("div",{},{top:bO(),left:aW(),position:bN,display:A,visibility:aZ,width:aY.innerWidth+"px",zIndex:"-800"});this.sidDiv.appendChild(b2);this.createExpand(b2,this.expandSrouce);this.expandDiv=b2;b4=setInterval(function(){if(b3.isExpandIframeLoaded===true){clearInterval(b4);b3.showExpand()}},100);if(typeof(b3.hideAd)=="function"){b3.hideAd()}};this.getExpandHtmlSource=function(b2){var b3=decodeURIComponent(b2.html?b2.html:b2.ads[0]["html"]);return b3};this.showLoading=function(){this.setShowingExpand(true);var b4=(("https:"===document.location.protocol)?"https:":"http:");var b3=b4+"//a.t.webtracker.jp/js/loader.gif";bG.addEventListener(Z,this.loading,false);bG.addEventListener(t,this.loading,false);aY.addEventListener("orientationchange",this.reSize,false);var b2=bG.createElement("div");b2.id=W;b2.innerHTML='<div style="position:absolute;opacity:0.6;background-color:black;width:'+bG.body.scrollWidth+"px;height:"+bG.body.scrollHeight+'px;top:0px;left:0px;"><div style="position:relative;margin:0 auto;top:'+(aY.pageYOffset+aY.innerHeight/2)+'px;left:0px;height:20px;width:100px;opacity:1;"><div style="float:left;line-height:16px;color:white;font-family:sans-serif;">loadingâ€¦</div><img src="'+b3+'" style="float:left;margin:auto 0;" /></div></div>';bG.body.appendChild(b2)};this.hideLoading=function(){bG.removeEventListener(Z,this.loading,false);bG.removeEventListener(t,this.loading,false);aY.removeEventListener("orientationchange",this.reSize,false);var b2=bG.getElementById(W);bG.body.removeChild(b2)};this.loading=function(b2){b2.stopPropagation();b2.preventDefault()};this.reSize=function(b3){var b2=aY.innerWidth;this.expandDiv.style.width=b2+"px";bG.getElementById(W).firstChild.style.width=b2+"px";this.expandDiv.firstChild.style.width=b2+"px"};this.showExpand=function(){var b2=this.expandDiv.firstChild;b2.style.display=A;b2.style.width=aY.innerWidth+"px";this.expandDiv.style.zIndex=ar;this.expandDiv.style.visibility=aD;b2.style.visibility=aD;bG.addEventListener("scroll",b0(aY.pageYOffset,b2.offsetHeight),false);S(this.expandDiv,1)};this.hideExpand=function(){this.hideLoading();S(this.expandDiv,0);var b2=bG.getElementById(an);if(b2){bG.body.removeChild(b2)}this.setShowingExpand(false);bG.removeEventListener("scroll",b1,false);this.sidDiv.removeChild(this.expandDiv)};this.setShowingExpand=function(b2){this.isShowingExpand=b2;D.is_showing_expand=b2};var b1;var b0=function(b3,b2){b1=function(){var b4=aY.pageYOffset;var b5=aY.innerHeight;if(b2-b5>0){if(b3>b4){scrollTo(0,b3)}else{if(b4-b3+b5>b2){scrollTo(0,b3+b2-b5)}}}else{scrollTo(0,b3)}};return b1};var bY=function(){var b3=bG.createElement("iframe");var b2=b3.style;b2.width=aY.innerWidth+"px";b2.height=aY.innerHeight+"px";b2.border=ab;return b3};var bZ=function(b2){var b3=bu();b3.id=an;bG.body.appendChild(b3);b3.onload=function(){bG.body.removeChild(b3)};b3.contentDocument.writeln(b2);b3.contentDocument.close()}}ai.prototype=new bB();function g(){this.getResizeSize=function(b4){var b2;var b1,b3;var b0=aY.innerWidth<aY.innerHeight?0.15:0.2;if(D.isCorrectViewportForFit()){b2=D.getViewportWidth();b1=Math.floor(b4*b2/this.adSpotWidth)}else{b2=aY.innerWidth;b3=(b2/this.adSpotWidth);if(aY.innerHeight*b0<this.adSpotHeight*b3){b3=aY.innerHeight*b0/this.adSpotHeight}b1=Math.floor(b4*b3)}b1=b1<1?1:b1;return b1};this.addFitEvent=function(){var b0=this;if(!this.isRegistFitEvent){this.isRegistFitEvent=true;if(bK()){bG.addEventListener("scroll",this.scrollEventHandler.bind(this),false);bG.addEventListener("gestureend",this.gestureEndEventHandler.bind(this),false);aY.addEventListener("orientationchange",this.resizeEventHandler.bind(this),false)}else{aY.addEventListener("resize",this.resizeEventHandler.bind(this),false);bG.addEventListener(Z,function(b1){setTimeout(function(){b0.scrollEventHandler.call(b0);b0.resizeEventHandler.call(b0)},500)},false);setInterval(bZ.call(b0),1000)}}};var bZ=function(){var b1;var b0=this;return function(){if(b1!=aY.pageYOffset&&b1){b0.scrollEventHandler.call(b0);b0.resizeEventHandler.call(b0)}b1=aY.innerWidth}};this.setFitHeight=function(){this.innerElement.style.height=this.getResizeSize(this.adSpotHeight)+"px"};this.setFitCSS=function(b2){var b1=b2.style;var b0=this.innerElement.style;if(!this.settings[bC]){b1.margin="0 auto";b1.width=this.getResizeSize(this.adSpotWidth)+"px";b0.position=bo;b0.top="0px";b0.left=aY.pageXOffset+"px";if(!D.isCorrectViewport()){b1.width="";b1.margin="";b0.width=aY.innerWidth+"px"}}else{b0.width=aY.innerWidth+"px"}this.doReSize(b2.childNodes,this.type,this.adSpotHeight/this.adLength,this.adSpotWidth)};this.doReSize=function(b2,b3,b1,b0){switch(b3){case B:if(this.settings[bC]){this.rotateImage(b2)}else{this.setImgAdSize(b2[0],null,null)}break;case bk:if(this.settings[bC]){this.rotateGifText(b2)}else{this.setGifTextAdSize(b2[0],this.getResizeSize(b0)-this.getResizeSize(bi),this.getResizeSize(b1))}break}};this.scrollEventHandler=function(){if(!this.settings[L]){this.innerElement.style.left=aY.pageXOffset+"px"}if(!bK()){bY.call(this)}};this.gestureEndEventHandler=function(){bY.call(this)};this.resizeEventHandler=function(){bY.call(this)};var bY=function(){var b0=this;setTimeout(function(){for(var b2=b0.anchorElements.length,b1=0;b1<b2;b1++){b0.setFitCSS(b0.anchorElements[b1]);b0.setFitHeight()}},0)}}g.prototype=new ai();function aK(){this.createAd=function(bY){bY=this.createAdBase(bY);if(this.settings[L]&&!this.isSupportFixed()){this.settings[L]=false}this.setCSSForOverlay();this.setOverlayEvent();var b0=this.createAdElementFormat(bY);this.anchorElements=[b0];this.adLength=1;if(this.settings[a4]){this.setFitCSS(b0);this.setFitHeight();this.addFitEvent()}this.isInfo=false;if(bY[at]===B&&bY[aJ]){var bZ=bE("div",{info_resize:"0"},{display:ab,position:bo,width:bY[am]+"px",height:bY[v]+"px",margin:this.settings[a4]?"":"0pt auto"});b0.style.display=A;bZ.appendChild(new AdcloudInformation().createImark(bY[aJ]));bZ.appendChild(b0);this.innerElement.appendChild(bZ);this.isInfo=true}else{b0.style.display=ab;this.innerElement.appendChild(b0)}if(bY[aI]){this.expandSrouce=this.getExpandHtmlSource(bY);this.registExpandEvent(b0)}this.setAdForOrientation();this.showAd()};this.updateAd=function(bY,b1){this.updateAdBase(bY,b1);if(this.settings[L]&&!this.isSupportFixed()){this.settings[L]=false}this.adSpotWidth=bY[am];this.adSpotHeight=bY[v];bY=this.checkExpand(bY);this.type=bY[at];this.newAid(bY.aid);var b0=this.createAdElementFormat(bY);this.anchorElements=[b0];this.adLength=1;this.isInfo=false;if(bY[at]===B&&bY[aJ]){var bZ=bE("div",{info_resize:"0"},{display:ab,position:bo,width:bY[am]+"px",height:bY[v]+"px",margin:this.settings[a4]?"":"0pt auto"});b0.style.display=A;bZ.appendChild(new AdcloudInformation().createImark(bY[aJ]));bZ.appendChild(b0);this.innerElement.appendChild(bZ);this.isInfo=true}else{b0.style.display=ab;this.innerElement.appendChild(b0)}if(bY[aI]){this.expandSrouce=this.getExpandHtmlSource(bY);this.registExpandEvent(b0)}this.setAdForOrientation();this.startRotationAnimation(true)};this.createCommonAdFormat=function(bY,b1){var b0=this.createCommonAdBaseFormat(bY,b1);var bZ=b0.style;bZ[m]=ab;bZ[a6]=bN;bZ[am]="100%";bZ[aN]="";if(this.settings.is_expand){b0.onClick="return false;";b0.className=b1+" expand "}else{b0.onClick="";b0.className=b1+" "}return b0};this.createImgAdFormat=function(bZ){var b0=this.createCommonAdFormat(bZ,B);var b1=this.createImgAdBaseFormat(bZ);b1.style[aN]="0pt auto";b1.style.WebkitBoxShadow="0px 0px "+aF+"px #000";b0.appendChild(b1);if(bZ.alter){var bY=b1.cloneNode(true);bY.src=decodeURIComponent(bZ.alter["src"]);b0.appendChild(bY)}return b0};this.createGifTextAdFormat=function(b9,b5){var b0=b5?b5:0;var b1=this.createGifTextAdBaseFormat(b9,b5);var b3=b9.ads[b0];var b2=this.createCommonAdFormat(b3,bk);var bZ=this.settings[bx];b2.appendChild(b1);b1.style.WebkitBoxShadow="0px 0px "+aF+"px #000";b1.style.boxShadow="0px 0px "+aF+"px #000";var bY,b4,b6;bY=parseInt(bZ[p].substring(1,3),16);b4=parseInt(bZ[p].substring(3,5),16);b6=parseInt(bZ[p].substring(5,7),16);var b8={position:bo,margin:"0pt auto",display:ab,WebkitBorderRadius:"3px",borderRadius:"3px",background:"-webkit-gradient(linear, left top, left bottom, from(rgba("+bY+","+b4+","+b6+",1)), to(rgba("+bY+","+b4+","+b6+",0.9)))",whiteSpace:"nowrap"};var b7=bE("div",{},b8);b7.style.WebkitBoxShadow="0px 0px "+aF+"px #000";b7.style.boxShadow="0px 0px "+aF+"px #000";this.createTextFormat(b7,bZ,b3,true);b7.appendChild(b1.childNodes[2].cloneNode(true));b2.appendChild(b7);return b2};this.setGifTextAdSize=function(b4,ca,b3){var b9=this;var b5=b4.style;var bY=ca;var b7=b3;var b2=true;var b8=(function(){if(b9.settings[a4]){return function(){var cb=b9.setImageSize(bZ,b7);bZ.style.marginLeft=b9.getResizeSize(J)+"px";b9.setTextSize(b6,bY-b9.getResizeSize(J*3)-cb,b7-b9.getResizeSize(n)-b9.getResizeSize(e)*2,b2);b9.setLicenseSize(b1);b5.display=A;b5.WebkitBoxShadow="0px 0px "+b9.getResizeSize(aF)+"px #000";b5.WebkitBorderRadius=b9.getResizeSize(bF)+"px"}}else{return function(){var cb=b9.setImageSize(bZ,b7);b9.setTextSize(b6,bY-J*3-cb,b7-n-e*2,b2);b5.display=A}}})();b5.height=b7+"px";b5.width=bY+"px";var b0=b4.childNodes;var bZ=b0[0],b6=b0[1],b1=b0[2];if(bZ.naturalHeight==0){bZ.onload=b8}else{b8()}};this.startRotationAnimation=function(bZ){var b1=aa,b3,b2=this.innerElement.firstChild.style;var b0=this.isAnimationStartMinus()?"-":"";var bY=this;b2.webkitTransitionDuration=aB+"ms";b2.webkitTransform="translate3d(0px,"+b0+(this.settings[a4]?this.getResizeSize(this.adSpotHeight):this.adSpotHeight)+"px,0px)";b3=setInterval(function(){if(b1>bW){b1-=0.2;S(bY.innerElement.firstChild,b1)}else{clearInterval(b3);if(!!bZ){bY.showAnimation()}}},aB/10)};this.showAnimation=function(){var b1=this.innerElement.children;var b3=b1.length,b0=0;var b4=bW,b5;var b2=this.isAnimationStartMinus()?"":"-";var bY=this;var bZ;this.endShowAnimationTime=null;while(b3>1){this.innerElement.removeChild(b1[0]);b3--}bZ=b1[0].style;bZ.webkitTransitionProperty="-webkit-transform";bZ.webkitTransitionTimingFunction="ease";bZ.webkitTransitionDuration="0ms";bZ.webkitTransform="translate3d(0px,"+b2+(this.settings[a4]?this.getResizeSize(bA):bA)+"px,0px)";S(b1[0],b4);bZ.display=A;setTimeout(function(){bZ.webkitTransitionDuration=a0+"ms";bZ.webkitTransform="translate3d(0px,0px,0px)";b5=setInterval(function(){if(b4<aa){b4+=0.2;S(b1[0],b4)}else{clearInterval(b5);bY.endShowAnimationTime=(new Date()).getTime()}},a0/5)},0)};this.isAnimationStartMinus=function(){var bY=false;switch(this.settings[a6]){case w:if(this.isNearLimitScroll()){bY=true}break;case aS:if(!this.isNearLimitScroll()){bY=true}break}return bY};this.isNearLimitScroll=function(){switch(this.settings[a6]){case aS:if(aY.pageYOffset<bq){return true}else{return false}break;case w:if(aY.pageYOffset+aY.innerHeight>Math.max(bG.documentElement.scrollHeight,bG.body.scrollHeight)-bq){return true}else{return false}break}};this.setAdForOrientation=function(){var b0=this.innerElement.childNodes;if(this.isInfo){b0=b0[b0.length-1].childNodes}var bZ=b0.length;var bY=b0[bZ-1].childNodes;switch(this.type){case B:this.rotateImage(bY);break;case bk:this.rotateGifText(bY);break}};this.rotateImage=function(bZ){if(bZ.length>1){switch(aY.orientation){case 0:var bY=bZ[0];bZ[1].style.display=ab;break;default:var bY=bZ[1];bZ[0].style.display=ab;break}}else{var bY=bZ[0]}this.setImgAdSize(bY,null,null)};this.rotateGifText=function(b2){var b1=aY.innerWidth-(this.settings[a4]?this.getResizeSize(bi):bi)*2;var bY=this.settings[a4]?this.getResizeSize(this.adSpotHeight):this.adSpotHeight;var b0;switch(aY.orientation){case aA:b2[aT].style.display=ab;b0=b2[aA];this.setGifTextAdSize(b0,b1,bY);break;default:b0=b2[aT];b2[aA].style.display=ab;this.setTextSize(b0.childNodes[az],b1,bY-(this.settings[a4]?this.getResizeSize(n):n)-(this.settings[a4]?this.getResizeSize(e):e)*2,false);if(this.settings[a4]){this.setLicenseSize(b0.childNodes[C])}break}var bZ=b0.style;bZ.width=b1+"px";bZ.height=bY+"px";bZ.display=A};this.setOverlayPosition=function(){var bY=this.innerElement.style;bY.width=aY.innerWidth+"px";bY.left=aY.pageXOffset+"px";this.setAdTop(bY)};this.setAdTop=function(b0){var bY=this.innerElement.firstChild.style;function bZ(){b0.top=(aY.pageYOffset+aY.innerHeight-(this.mraidSettings[c]?this.mraidSettings[a5]:this.settings[a4]?this.getResizeSize(this.adSpotHeight):this.adSpotHeight)-(this.settings[a4]?this.getResizeSize(G):G))+"px";bY.removeProperty(bf);bY.bottom="0px";this.changePositionForRich(bz)}function b1(){b0.top=(aY.pageYOffset+(this.settings[a4]?this.getResizeSize(G):G))+"px";bY.removeProperty(o);bY.top="0px";this.changePositionForRich(V)}if(!!this.mraidSettings[c]){if(this.mraidSettings[bb]===V){b1.call(this)}else{bZ.call(this)}}else{if(this.isNearLimitScroll()){if(this.settings[a6]===w){b1.call(this)}else{bZ.call(this)}}else{if(this.settings[a6]===w){bZ.call(this)}else{b1.call(this)}}}};this.hideAd=function(){this.innerElement.style.display=ab};this.showAd=function(){if(this.settings[L]){this.setPositionForFixed()}else{this.setOverlayPosition()}if(!D.is_showing_expand&&!D.isSoftwareKeyboad){this.innerElement.style.display=A;this.showAnimation()}};this.setPositionForFixed=function(){this.innerElement.style.width=aY.innerWidth+"px";this.innerElement.style.left="0px";var bY=this.innerElement.firstChild.style;function bZ(){this.innerElement.style.removeProperty(bf);this.innerElement.style.bottom=(this.settings[a4]?this.getResizeSize(G):G)+"px";bY.removeProperty(bf);bY.bottom="0px";this.changePositionForRich(bz)}function b0(){this.innerElement.style.removeProperty(o);this.innerElement.style.top=(this.settings[a4]?this.getResizeSize(G):G)+"px";bY.removeProperty(o);bY.top="0px";this.changePositionForRich(V)}if(!this.mraidSettings[c]){if(this.isNearLimitScroll()){switch(this.settings[a6]){case aS:bZ.call(this);break;case w:b0.call(this);break}}else{switch(this.settings[a6]){case aS:b0.call(this);break;case w:bZ.call(this);break}}}};this.setShowTimer=function(){if(this.showAdTimer){clearTimeout(this.showAdTimer)}this.showAdTimer=setTimeout(this.showAd.bind(this),this.settings.time)};this.setCSSForOverlay=function(){this.innerElement.id=ag;var bY=this.innerElement.style;if(!!this.settings[L]){bY.position=br}else{bY.position=bN}bY.width=aY.innerWidth+"px";bY.height=this.adSpotHeight+"px";bY.zIndex=ar};this.isTouchAd=function(b0){var bY=b0.srcElement.parentNode;var bZ=this.innerElement.firstChild;while(bY!=bG){if(bY==bZ){return true}bY=bY.parentNode}return false};this.isProcessEnoughTimeFromAnimationEnd=function(){var bY=(new Date()).getTime();if(!!this.endShowAnimationTime&&bY-this.endShowAnimationTime>b){return true}else{return false}}}aK.prototype=new g();function M(bY,bZ){this.sid=bY;this.aid=[];this.rotationNum=0;this.rotationTimer;this.settings=this.mergeOptions(bZ);this.expandSrouce;this.isExpandIframeLoaded=false;this.isShowingExpand=false;this.expandDiv;this.adSpotWidth;this.adSpotHeight;this.adLength;this.type;this.anchorElements;this.innerElement;this.isRegistFitEvent=false;this.sidDiv=bG.getElementsByClassName(af+this.sid)[0];this.showAdTimer;this.isTouchStart;this.isTouchMove;this.endShowAnimationTime=null;this.mraidSettings={};this.scroll=function(b0){if(!this.settings[L]){this.innerElement.style.display=ab;this.setShowTimer()}else{this.setPositionForFixed()}};this.touchStart=function(b0){if(this.isTouchAd(b0)){this.isTouchStart=true;b0.stopPropagation();b0.preventDefault()}else{if(!this.settings[L]){this.hideAd()}}};this.touchMove=function(b0){if(this.isTouchStart){this.isTouchMove=true}else{if(!this.settings[L]){this.hideAd()}}};this.touchEnd=function(b2){if(this.isTouchStart){if(this.isProcessEnoughTimeFromAnimationEnd()&&!this.isTouchMove){var b0=b2.changedTouches[0];var b1=bG.createEvent("MouseEvents");b1.initMouseEvent("click",true,true,aY,1,b0.screenX,b0.screenY,b0.clientX,b0.clientY,false,false,false,false,0,null);b1._fake=true;b0.target.dispatchEvent(b1)}b2.stopPropagation();b2.preventDefault()}else{if(!this.settings[L]){this.setShowTimer()}}this.isTouchStart=false;this.isTouchMove=false};this.orientationChange=function(b0){this.hideAd();this.setAdForOrientation();this.setShowTimer();b0.stopPropagation();b0.preventDefault()};this.setOverlayEvent=function(){if(this.settings[L]){bG.addEventListener(Z,this.touchStart.bind(this),false);bG.addEventListener(bp,this.touchMove.bind(this),false);bG.addEventListener(t,this.touchEnd.bind(this),false);bG.addEventListener("scroll",this.scroll.bind(this),false);aY.addEventListener("orientationchange",this.orientationChange.bind(this),false)}else{bG.addEventListener(Z,this.touchStart.bind(this),false);bG.addEventListener(bp,this.touchMove.bind(this),false);bG.addEventListener(t,this.touchEnd.bind(this),false);bG.addEventListener("scroll",this.scroll.bind(this),false);aY.addEventListener("orientationchange",this.orientationChange.bind(this),false);bG.addEventListener("focus",function(b0){D.isSoftwareKeyboad=true},true);bG.addEventListener("blur",(function(b0){D.isSoftwareKeyboad=false;this.setShowTimer()}).bind(this),true)}};this.isSupportFixed=function(){var b0=navigator.userAgent;b0.match(/(iPhone OS|CPU OS) (\d)/);return(RegExp.$2>=5)}}M.prototype=new aK();function x(bY,bZ){this.sid=bY;this.aid=[];this.rotationNum=0;this.rotationTimer;this.settings=this.mergeOptions(bZ);this.expandSrouce;this.isExpandIframeLoaded=false;this.isShowingExpand=false;this.expandDiv;this.adSpotWidth;this.adSpotHeight;this.adLength;this.type;this.anchorElements;this.innerElement;this.isRegistFitEvent=false;this.sidDiv=bG.getElementsByClassName(af+this.sid)[0];this.showAdTimer;this.isTouchStart;this.isTouchMove;this.endShowAnimationTime=null;this.touchMoveCounter=0;this.isProcessEnoughTime=false;this.orientated=false;this.mraidSettings={};this.touchStart=function(b0){if(this.isTouchAd(b0)){this.isTouchStart=true;if(!this.isProcessEnoughTimeFromAnimationEnd()){this.isProcessEnoughTime=false;b0.stopPropagation();b0.preventDefault()}else{this.isProcessEnoughTime=true}}else{if(!this.settings[L]){this.hideAd()}}};this.touchMove=function(b0){if(this.isTouchStart){b0.preventDefault();b0.stopPropagation();this.touchMoveCounter++}else{if(!this.settings[L]){this.hideAd();this.setShowTimer()}}};this.touchEnd=function(b0){if(this.isTouchStart){if(this.isProcessEnoughTime&&this.touchMoveCounter<=bP){}else{b0.stopPropagation();b0.preventDefault()}}else{if(!this.settings[L]){this.setShowTimer()}}this.isTouchStart=false;this.touchMoveCounter=0};this.sizeChange=function(b0){if(!this.settings[L]||this.orientated===true){this.hideAd();this.setAdForOrientation();this.setShowTimer();this.orientated=false}};this.orientationChange=function(b0){this.orientated=true};this.checkScrollTop=function(){var b1;var b0=this;return function(){if(b1!=aY.pageYOffset&&b1){if(b0.settings[L]){b0.setPositionForFixed()}else{b0.setShowTimer();b0.hideAd()}}b1=aY.pageYOffset}};this.setOverlayEvent=function(){if(this.settings[L]){setInterval(this.checkScrollTop.call(this),200);aY.addEventListener("resize",this.sizeChange.bind(this),false);aY.addEventListener("orientationchange",this.orientationChange.bind(this),false)}else{bG.addEventListener(Z,this.touchStart.bind(this),false);bG.addEventListener(bp,this.touchMove.bind(this),false);bG.addEventListener(t,this.touchEnd.bind(this),false);aY.addEventListener("resize",this.sizeChange.bind(this),false);setInterval(this.checkScrollTop.call(this),200);bG.addEventListener("focus",function(b0){D.isSoftwareKeyboad=true},true);bG.addEventListener("blur",(function(b0){D.isSoftwareKeyboad=false;this.setShowTimer()}).bind(this),true)}};this.isSupportFixed=function(){var b0=navigator.userAgent;b0.match(/(Android) (\d)\.(\d)/);if(RegExp.$2>=4){return true}return false}}x.prototype=new aK();function T(bY,bZ){this.sid=bY;this.aid=[];this.rotationNum=0;this.rotationTimer;this.settings=this.mergeOptions(bZ);this.expandSrouce;this.isExpandIframeLoaded=false;this.isShowingExpand=false;this.expandDiv;this.adSpotWidth;this.adSpotHeight;this.adLength;this.type;this.anchorElements;this.innerElement;this.isRegistFitEvent=false;this.sidDiv=bG.getElementsByClassName(af+this.sid)[0];this.mraidSettings={};this.createAd=function(b1){b1=this.createAdBase(b1);if(this.isMultiAd(b1)){b1[at]=bQ;var b5=this.createAdElementFormat(b1);this.adLength=b5.length;this.anchorElements=b5;for(var b3=0,b4=b5.length;b3<b4;b3++){if(this.settings[a4]){this.setFitCSS(b5[b3])}this.innerElement.appendChild(b5[b3])}if(this.settings[a4]){this.setFitHeight();this.addFitEvent()}}else{var b2=this.createAdElementFormat(b1);this.anchorElements=[b2];this.adLength=1;if(this.settings[a4]){this.setFitCSS(b2);this.setFitHeight();this.addFitEvent()}if(b1[at]===B&&b1[aJ]){var b0=this.innerElement.style;b0.width=b1[am]+"px";b0.margin=this.settings[a4]?"":"0pt auto";b0.position=bo;this.innerElement.appendChild(b2);this.innerElement.appendChild(new AdcloudInformation().createImark(b1[aJ]))}else{this.innerElement.appendChild(b2)}if(b1[aI]){this.expandSrouce=this.getExpandHtmlSource(b1);this.registExpandEvent(b2)}}};this.updateAd=function(b0,b1){this.updateAdBase(b0,b1);if(!this[a4]){this.sidDiv.style.height=b0[v]+"px"}this.sidDiv.removeChild(this.sidDiv.firstChild);this.createAd(b0)};this.createCommonAdFormat=function(b0,b3){var b2=this.createCommonAdBaseFormat(b0,b3);b2.className="";b2.onClick="";var b1=b2.style;b1[m]=A;b1[a6]="static";b1[o]="0px";b1[am]=b0[am]+"px";b1[aN]="0pt auto";if(this.settings[a4]){b1[am]="100%"}return b2};this.createImgAdFormat=function(b0){var b1=this.createCommonAdFormat(b0,B);var b2=this.createImgAdBaseFormat(b0);b2.style[aN]=this.settings[a4]?"":"0pt auto";b1.appendChild(b2);if(!this.settings[a4]){this.setImgAdSize(b2,b0[am],b0[v])}return b1};this.createGifTextAdFormat=function(b1,b7){var b2=b7?b7:0;var b6=this.createGifTextAdBaseFormat(b1,b7);var b4=b1.ads[b2];var b3=this.createCommonAdFormat(b4,bk);b3.appendChild(b6);var b5=b1[am]?b1[am]:b1.ads[am];var b0=b1[v]?b1[v]:b1.ads[v];this.setGifTextAdSize(b3.childNodes[0],b5,b0,b2);return b3};this.createMultiAdFormat=function(b7){var b1=b7[v];var b3=this.settings.nolicense;var b6=b7.ads.length;var b2=[];var b0=0,b8;b7[v]=b1/b7.ads.length-1;b7[at]="giftext";for(var b5=0;b5<b6;b5++){b8=this.countString(decodeURIComponent(b7.ads[b5]["title"]));if(b0<b8){b0=b8}}this.settings.str_byte=b0;for(var b5=0;b5<b6;b5++){if(!b3){if(b5+1===b6){this.settings.nolicense=false}else{this.settings.nolicense=true}}var b4=this.createGifTextAdFormat(b7,b5);if(b5+1!=b6){b4.firstChild.style.borderBottom="dotted 1px"}b2.push(b4)}return b2};this.setGifTextAdSize=function(b7,cd,b6,b5){var cc=this;var b8=b7.style;var b0=cd;var ca=b6;var b4=true;var cb=(function(){if(cc.settings[a4]){return function(){b8.width=b0+"px";b8.height=ca+"px";var ce=cc.setImageSize(b1,ca,b5);b1.style.marginLeft=cc.getResizeSize(J)+"px";cc.setTextSize(b9,b0-cc.getResizeSize(J)*3-ce,ca-cc.getResizeSize(n)-cc.getResizeSize(e)*2,b4);cc.setLicenseSize(b3);b8.display=A}}else{return function(){var ce=cc.setImageSize(b1,ca,b5);cc.setTextSize(b9,b0-J*3-ce,ca-n-e*2,b4);b8.display=A}}})();b8.height=ca+"px";b8.width=b0+"px";var b2=b7.childNodes;var b1=b2[0],b9=b2[1],b3=b2[2];if(b1.naturalHeight==0){b1.onload=cb}else{cb()}}}T.prototype=new g();function j(){return/(iPhone|iPad)/.test(navigator.userAgent)||/Android/.test(navigator.userAgent)?true:false}function bK(){return/(iPhone|iPad)/.test(navigator.userAgent)?true:false}function bu(){var bY=bG.createElement("iframe");var bZ=bY.style;bY.scrolling="no";bY.height=bY.width="1px";bZ.position=bN;bZ.border="none";bZ.left=bZ.top=bv;bZ.zIndex=f;bZ.visibility=aZ;return bY}aY.AdCloudSmartphone=D;aY.AdCloudSmartphone.object=new D();if(!Function.prototype.hasOwnProperty("bind")){Function.prototype.bind=function(){var b1=this;var b2=arguments[0];var b0=arguments.length;var bZ=[];for(var bY=1;bY<b0;bY++){bZ.push(arguments[bY])}return function(){var b3=(Array.prototype.slice.call(arguments)).concat(bZ);return b1.apply(b2,b3)}}}})();